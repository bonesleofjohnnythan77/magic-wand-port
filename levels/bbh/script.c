#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/bbh/header.h"
extern u8 _bbh_segment_ESegmentRomStart[]; 
extern u8 _bbh_segment_ESegmentRomEnd[];
#include "levels/ccm/header.h"
const LevelScript level_bbh_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _ccm_segment_7SegmentRomStart, _ccm_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _ccmSegmentRomStart, _ccmSegmentRomEnd),
LOAD_RAW(0x0E, _bbh_segment_ESegmentRomStart, _bbh_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom19627712_skybox_mio0SegmentRomStart,_SkyboxCustom19627712_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group1_mio0SegmentRomStart,_group1_mio0SegmentRomEnd),
LOAD_RAW(12,_group1_geoSegmentRomStart,_group1_geoSegmentRomEnd),
LOAD_MIO0(6,_group14_mio0SegmentRomStart,_group14_mio0SegmentRomEnd),
LOAD_RAW(13,_group14_geoSegmentRomStart,_group14_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_03, ccm_geo_00042C),
LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_04, ccm_geo_00045C),
LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_05, ccm_geo_000494),
LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_06, ccm_geo_0004BC),
LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_07, ccm_geo_0004E4),
LOAD_MODEL_FROM_GEO(MODEL_CCM_CABIN_DOOR,    cabin_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_CCM_SNOW_TREE,     snow_tree_geo),
LOAD_MODEL_FROM_GEO(MODEL_CCM_ROPEWAY_LIFT,  ccm_geo_0003D0),
LOAD_MODEL_FROM_GEO(MODEL_CCM_SNOWMAN_BASE,  ccm_geo_0003F0),
LOAD_MODEL_FROM_GEO(MODEL_CCM_SNOWMAN_HEAD,  ccm_geo_00040C),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
LOAD_MODEL_FROM_GEO(39, cabin_door_geo),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_2),
JUMP_LINK(script_func_global_15),
JUMP_LINK(local_area_bbh_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_bbh_1_[] = {
AREA(1,Geo_bbh_1_0x1201700),
TERRAIN(col_bbh_1_0xe046bc0),
SET_BACKGROUND_MUSIC(0,38),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_bbh_1_),
JUMP_LINK(local_warps_bbh_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_bbh_1_[] = {
OBJECT_WITH_ACTS(0,546,-917,-7707,0,0,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(0,2850,2765,1125,0,-32768,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-4768,1624,-3691,0,-153,0,0xc0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(201,1535,2325,1800,0,90,0,0x0, bhvCannonClosed,31),
OBJECT_WITH_ACTS(103,2933,3129,139,0,-151,0,0x0, bhvWhompKingBoss,1),
OBJECT_WITH_ACTS(180,-1265,582,1874,0,-86,0,0x0, bhvPitBowlingBall,15),
OBJECT_WITH_ACTS(180,-1588,355,2655,0,0,0,0x0, bhvPitBowlingBall,15),
OBJECT_WITH_ACTS(0,2750,2765,1125,0,-32768,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,2750,2765,1250,0,-32768,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,2850,2765,1250,0,-32768,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-5002,3698,4572,0,0,0,0x140e0000, bhvWarp,31),
OBJECT_WITH_ACTS(0,-5282,3400,4302,0,205,0,0x0, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,231,-5000,411,0,0,0,0xd0000, bhvWarp,31),
OBJECT_WITH_ACTS(0,-90,-5700,476,0,271,0,0x10000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(102,5258,-943,6849,0,-250,0,0x0, bhvChainChomp,15),
OBJECT_WITH_ACTS(0,-3994,528,-3168,0,0,0,0x0, bhvBobBowlingBallSpawner,15),
OBJECT_WITH_ACTS(0,-3940,511,-3177,0,0,0,0x0, bhvTtmBowlingBallSpawner,15),
OBJECT_WITH_ACTS(102,-48,-108,6667,0,0,0,0x0, bhvChainChomp,15),
OBJECT_WITH_ACTS(102,-6607,-858,-1369,0,0,0,0x0, bhvChainChomp,15),
OBJECT_WITH_ACTS(102,6326,-530,2091,0,0,0,0x0, bhvChainChomp,15),
OBJECT_WITH_ACTS(102,2644,-858,-6482,0,0,0,0x0, bhvChainChomp,15),
OBJECT_WITH_ACTS(0,-20,289,6682,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,6325,-96,2100,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,5270,-508,6860,0,21,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-6600,-496,-1350,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,2639,-493,-6475,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-4133,-337,-115,0,0,0,0x1000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(88,5628,-945,-3811,0,-88,0,0x0, bhvThwomp2,15),
OBJECT_WITH_ACTS(88,3369,-945,-4135,0,125,0,0x0, bhvThwomp2,15),
OBJECT_WITH_ACTS(88,3356,1093,4155,0,99,0,0x0, bhvThwomp2,15),
OBJECT_WITH_ACTS(88,2787,3109,1814,0,-164,0,0x0, bhvThwomp2,15),
OBJECT_WITH_ACTS(88,-6224,1772,2941,0,148,0,0x0, bhvThwomp2,15),
OBJECT_WITH_ACTS(103,4409,-793,-3942,0,0,0,0x0, bhvSmallWhomp,15),
OBJECT_WITH_ACTS(103,-5269,-858,872,0,96,0,0x0, bhvSmallWhomp,15),
OBJECT_WITH_ACTS(103,907,-858,3760,0,-124,0,0x0, bhvSmallWhomp,15),
OBJECT_WITH_ACTS(103,238,39,-2807,0,-246,0,0x0, bhvSmallWhomp,15),
OBJECT_WITH_ACTS(103,4410,711,-549,0,7,0,0x0, bhvSmallWhomp,15),
OBJECT_WITH_ACTS(192,4369,1082,3463,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(137,1770,2372,1347,0,0,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(195,182,-858,-6941,0,0,1,0x10000, bhvBobombBuddy,15),
OBJECT_WITH_ACTS(195,-4550,-858,5461,0,0,0,0x0, bhvBobombBuddyOpensCannon,31),
OBJECT_WITH_ACTS(195,-4800,3594,4179,0,0,0,0x30000, bhvBobombBuddy,31),
OBJECT_WITH_ACTS(122,-4985,4956,4705,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(188,-4851,2065,5778,0,0,0,0x230000, bhvBobombBuddy,31),
OBJECT_WITH_ACTS(137,-4522,3264,3864,0,0,0,0x20000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,-859,-5208,389,0,0,0,0x4000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(122,-1919,3627,4080,0,0,0,0x5000000, bhvUkiki,31),
OBJECT_WITH_ACTS(215,-1427,-5417,-679,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-2450,-5417,-2672,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-41,-5417,-4430,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-2726,-5417,-2038,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,460,-5417,-1323,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-400,-5417,-1465,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-208,-5417,-3281,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-2783,-5417,-4663,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(195,239,-858,-6820,0,0,0,0x20000, bhvBobombBuddy,48),
OBJECT_WITH_ACTS(195,-5094,-38,1303,0,0,0,0x210000, bhvBobombBuddy,31),
OBJECT_WITH_ACTS(140,-4891,1212,-3006,0,0,0,0x0, bhvBlueCoinSwitch,31),
OBJECT_WITH_ACTS(118,-4295,232,-1417,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-5703,1152,-4565,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-4432,810,-5212,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-3458,526,-3371,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(0,518,-691,-7516,0,180,0,0xf00000, bhvAirborneStarCollectWarp,31),
OBJECT_WITH_ACTS(0,483,-858,-7418,0,0,0,0xf10000, bhvDeathWarp,31),
OBJECT_WITH_ACTS(0,448,-858,-8759,0,0,0,0x28000000, bhvWarp,31),
OBJECT_WITH_ACTS(188,-5301,1301,-3823,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-4306,1301,-3806,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-4662,1301,-3095,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(192,-6970,2044,4230,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-121,1032,1908,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-1266,641,1662,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,2232,2120,1822,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(0,-3092,1933,2200,0,95,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,2808,2224,2071,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,2813,2031,456,0,-90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-1547,356,2431,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,5343,-943,6608,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-4904,-858,3819,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(192,-3929,-858,4712,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-6174,-858,4579,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-5247,-858,2935,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(0,6404,-508,1769,90,0,0,0x130000, bhvCoinFormation,48),
OBJECT_WITH_ACTS(0,-6553,-858,-1674,90,0,0,0x130000, bhvCoinFormation,48),
OBJECT_WITH_ACTS(0,-4,-67,6398,90,0,0,0x130000, bhvCoinFormation,48),
OBJECT_WITH_ACTS(0,2706,-858,-6737,90,0,0,0x130000, bhvCoinFormation,48),
OBJECT_WITH_ACTS(137,-2432,-5191,-573,0,0,0,0x60000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(24,-1688,-950,3932,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,517,-950,-4871,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,6254,-950,-943,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,-5849,-950,833,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,-2373,-950,1136,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(137,-4228,-917,2961,0,-180,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-5579,-917,3429,0,-180,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-3621,-917,4401,0,-180,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-4795,-917,5450,0,-180,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-6046,-917,4440,0,0,0,0x2080000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-5966,-917,2725,0,-180,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-4898,-917,4677,0,-180,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-4088,-917,5119,0,-180,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-5819,-917,5082,0,-180,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(212,-6848,900,249,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(130,-5177,3000,6234,0,0,0,0x0, bhvJumpingBox,31),
OBJECT_WITH_ACTS(0,6226,-586,-960,0,0,0,0x0, bhvHidden1upInPoleSpawner,31),
OBJECT_WITH_ACTS(212,-281,-5260,-2182,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(137,-6619,337,439,0,0,0,0x60000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(212,-6833,392,177,0,0,-1,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(88,-7467,-914,-383,0,0,0,0x0, bhvPillarBase,31),
OBJECT_WITH_ACTS(88,6371,-31,-7108,0,-49,0,0x60000, bhvChainChompGate,31),
OBJECT_WITH_ACTS(0,6827,-94,-7529,0,0,0,0x0, bhvGoombaTripletSpawner,31),
RETURN()
};
const LevelScript local_warps_bbh_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,4,1,12,0),
WARP_NODE(12,4,1,11,0),
WARP_NODE(13,4,1,0,0),
WARP_NODE(14,4,1,1,0),
WARP_NODE(240,4,1,240,0),
WARP_NODE(241,9,1,2,0),
WARP_NODE(0,9,1,12,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
